{"version":3,"file":"vega-format.min.js","sources":["../src/memoize.js","../../../node_modules/d3-array/src/ticks.js","../../../node_modules/d3-format/src/formatDecimal.js","../../../node_modules/d3-format/src/exponent.js","../../../node_modules/d3-format/src/formatSpecifier.js","../../../node_modules/d3-format/src/formatPrefixAuto.js","../../../node_modules/d3-format/src/formatRounded.js","../../../node_modules/d3-format/src/formatTypes.js","../../../node_modules/d3-format/src/identity.js","../../../node_modules/d3-format/src/locale.js","../../../node_modules/d3-format/src/defaultLocale.js","../../../node_modules/d3-format/src/formatGroup.js","../../../node_modules/d3-format/src/formatNumerals.js","../../../node_modules/d3-format/src/formatTrim.js","../src/number.js","../../../node_modules/d3-format/src/precisionPrefix.js","../../../node_modules/d3-format/src/precisionRound.js","../../../node_modules/d3-format/src/precisionFixed.js","../../../node_modules/d3-time/src/interval.js","../../../node_modules/d3-time/src/duration.js","../../../node_modules/d3-time/src/day.js","../../../node_modules/d3-time/src/week.js","../../../node_modules/d3-time/src/year.js","../../../node_modules/d3-time/src/utcDay.js","../../../node_modules/d3-time/src/utcWeek.js","../../../node_modules/d3-time/src/utcYear.js","../../../node_modules/d3-time-format/src/locale.js","../../../node_modules/d3-time-format/src/defaultLocale.js","../src/time.js","../src/locale.js"],"sourcesContent":["export default function(method) {\n  const cache = {};\n  return spec => cache[spec] || (cache[spec] = method(spec));\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import memoize from './memoize';\nimport {tickStep} from 'd3-array';\nimport {\n  format as d3_format,\n  formatLocale as d3_formatLocale,\n  formatPrefix as d3_formatPrefix,\n  formatSpecifier,\n  precisionFixed,\n  precisionPrefix,\n  precisionRound\n} from 'd3-format';\n\nfunction trimZeroes(numberFormat, decimalChar) {\n  return x => {\n    const str = numberFormat(x),\n        dec = str.indexOf(decimalChar);\n\n    if (dec < 0) return str;\n\n    let idx = rightmostDigit(str, dec);\n    const end = idx < str.length ? str.slice(idx) : '';\n    while (--idx > dec) if (str[idx] !== '0') { ++idx; break; }\n\n    return str.slice(0, idx) + end;\n  };\n}\n\nfunction rightmostDigit(str, dec) {\n  let i = str.lastIndexOf('e'), c;\n  if (i > 0) return i;\n  for (i=str.length; --i > dec;) {\n    c = str.charCodeAt(i);\n    if (c >= 48 && c <= 57) return i + 1; // is digit\n  }\n}\n\nfunction numberLocale(locale) {\n  const format = memoize(locale.format),\n        formatPrefix = locale.formatPrefix;\n\n  return {\n    format,\n    formatPrefix,\n    formatFloat(spec) {\n      const s = formatSpecifier(spec || ',');\n      if (s.precision == null) {\n        s.precision = 12;\n        switch (s.type) {\n          case '%': s.precision -= 2; break;\n          case 'e': s.precision -= 1; break;\n        }\n        return trimZeroes(\n          format(s),          // number format\n          format('.1f')(1)[1] // decimal point character\n        );\n      } else {\n        return format(s);\n      }\n    },\n    formatSpan(start, stop, count, specifier) {\n      specifier = formatSpecifier(specifier == null ? ',f' : specifier);\n      const step = tickStep(start, stop, count),\n            value = Math.max(Math.abs(start), Math.abs(stop));\n      let precision;\n\n      if (specifier.precision == null) {\n        switch (specifier.type) {\n          case 's': {\n            if (!isNaN(precision = precisionPrefix(step, value))) {\n              specifier.precision = precision;\n            }\n            return formatPrefix(specifier, value);\n          }\n          case '':\n          case 'e':\n          case 'g':\n          case 'p':\n          case 'r': {\n            if (!isNaN(precision = precisionRound(step, value))) {\n              specifier.precision = precision - (specifier.type === 'e');\n            }\n            break;\n          }\n          case 'f':\n          case '%': {\n            if (!isNaN(precision = precisionFixed(step))) {\n              specifier.precision = precision - (specifier.type === '%') * 2;\n            }\n            break;\n          }\n        }\n      }\n      return format(specifier);\n    }\n  };\n}\n\nlet defaultNumberLocale;\nresetNumberFormatDefaultLocale();\n\nexport function resetNumberFormatDefaultLocale() {\n  return defaultNumberLocale = numberLocale({\n    format: d3_format,\n    formatPrefix: d3_formatPrefix\n  });\n}\n\nexport function numberFormatLocale(definition) {\n  return numberLocale(d3_formatLocale(definition));\n}\n\nexport function numberFormatDefaultLocale(definition) {\n  return arguments.length\n    ? (defaultNumberLocale = numberFormatLocale(definition))\n    : defaultNumberLocale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import memoize from './memoize';\nimport {\n  DATE, DAY, HOURS, MILLISECONDS, MINUTES, MONTH, QUARTER,\n  SECONDS, WEEK, YEAR, timeInterval, utcInterval\n} from 'vega-time';\nimport {error, isObject, isString} from 'vega-util';\n\nimport {\n  timeFormat as d3_timeFormat,\n  timeFormatLocale as d3_timeFormatLocale,\n  timeParse as d3_timeParse,\n  utcFormat as d3_utcFormat,\n  utcParse as d3_utcParse\n} from 'd3-time-format';\n\nfunction timeMultiFormat(format, interval, spec) {\n  spec = spec || {};\n  if (!isObject(spec)) {\n    error(`Invalid time multi-format specifier: ${spec}`);\n  }\n\n  const second = interval(SECONDS),\n        minute = interval(MINUTES),\n        hour = interval(HOURS),\n        day = interval(DATE),\n        week = interval(WEEK),\n        month = interval(MONTH),\n        quarter = interval(QUARTER),\n        year = interval(YEAR),\n        L = format(spec[MILLISECONDS] || '.%L'),\n        S = format(spec[SECONDS] || ':%S'),\n        M = format(spec[MINUTES] || '%I:%M'),\n        H = format(spec[HOURS] || '%I %p'),\n        d = format(spec[DATE] || spec[DAY] || '%a %d'),\n        w = format(spec[WEEK] || '%b %d'),\n        m = format(spec[MONTH] || '%B'),\n        q = format(spec[QUARTER] || '%B'),\n        y = format(spec[YEAR] || '%Y');\n\n  return date => (\n    second(date) < date ? L :\n    minute(date) < date ? S :\n    hour(date) < date ? M :\n    day(date) < date ? H :\n    month(date) < date ? (week(date) < date ? d : w) :\n    year(date) < date ? (quarter(date) < date ? m : q) :\n    y)(date);\n}\n\nfunction timeLocale(locale) {\n  const timeFormat = memoize(locale.format),\n        utcFormat = memoize(locale.utcFormat);\n\n  return {\n    timeFormat: spec => isString(spec)\n      ? timeFormat(spec)\n      : timeMultiFormat(timeFormat, timeInterval, spec),\n    utcFormat: spec => isString(spec)\n      ? utcFormat(spec)\n      : timeMultiFormat(utcFormat, utcInterval, spec),\n    timeParse: memoize(locale.parse),\n    utcParse: memoize(locale.utcParse)\n  };\n}\n\nlet defaultTimeLocale;\nresetTimeFormatDefaultLocale();\n\nexport function resetTimeFormatDefaultLocale() {\n  return defaultTimeLocale = timeLocale({\n    format: d3_timeFormat,\n    parse: d3_timeParse,\n    utcFormat: d3_utcFormat,\n    utcParse: d3_utcParse\n  });\n}\n\nexport function timeFormatLocale(definition) {\n  return timeLocale(d3_timeFormatLocale(definition));\n}\n\nexport function timeFormatDefaultLocale(definition) {\n  return arguments.length\n    ? (defaultTimeLocale = timeFormatLocale(definition))\n    : defaultTimeLocale;\n}\n","import {\n  numberFormatDefaultLocale,\n  numberFormatLocale,\n  resetNumberFormatDefaultLocale\n} from './number';\n\nimport {\n  resetTimeFormatDefaultLocale,\n  timeFormatDefaultLocale,\n  timeFormatLocale\n} from './time';\n\nimport {error, extend} from 'vega-util';\n\nconst createLocale = (number, time) => extend({}, number, time);\n\nexport function locale(numberSpec, timeSpec) {\n  const number = numberSpec\n    ? numberFormatLocale(numberSpec)\n    : numberFormatDefaultLocale();\n\n  const time = timeSpec\n    ? timeFormatLocale(timeSpec)\n    : timeFormatDefaultLocale();\n\n  return createLocale(number, time);\n}\n\nexport function defaultLocale(numberSpec, timeSpec) {\n  const args = arguments.length;\n  if (args && args !== 2) {\n    error('defaultLocale expects either zero or two arguments.');\n  }\n\n  return args\n    ? createLocale(\n        numberFormatDefaultLocale(numberSpec),\n        timeFormatDefaultLocale(timeSpec)\n      )\n    : createLocale(\n        numberFormatDefaultLocale(),\n        timeFormatDefaultLocale()\n      );\n}\n\nexport function resetDefaultLocale() {\n  resetNumberFormatDefaultLocale();\n  resetTimeFormatDefaultLocale();\n  return defaultLocale();\n}\n"],"names":["memoize","method","cache","spec","e10","Math","sqrt","e5","e2","formatDecimalParts","x","p","i","toExponential","indexOf","coefficient","slice","length","exponent","abs","NaN","prefixExponent","re","formatSpecifier","specifier","match","exec","Error","FormatSpecifier","fill","align","sign","symbol","zero","width","comma","precision","trim","type","this","undefined","formatRounded","d","Array","join","prototype","toString","max","formatTypes","toFixed","round","c","toLocaleString","replace","e","f","g","toPrecision","r","s","min","floor","n","X","toUpperCase","identity","locale","format","formatPrefix","map","prefixes","d3_formatLocale","grouping","thousands","group","call","Number","value","t","j","push","substring","reverse","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","isNaN","out","i1","i0","formatTrim","charCodeAt","Infinity","padding","k","pow","numberLocale","formatFloat","numberFormat","decimalChar","str","dec","idx","lastIndexOf","rightmostDigit","end","formatSpan","start","stop","count","step","step0","step1","log","LN10","error","tickStep","precisionPrefix","precisionRound","precisionFixed","defaultNumberLocale","resetNumberFormatDefaultLocale","d3_format","d3_formatPrefix","numberFormatLocale","definition","numberFormatDefaultLocale","arguments","formatLocale","t0","Date","t1","newInterval","floori","offseti","field","interval","date","ceil","d0","d1","offset","range","previous","filter","setTime","every","isFinite","durationMinute","durationSecond","durationDay","durationHour","durationWeek","timeDay","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","year","setMonth","setFullYear","getFullYear","timeYear","utcDay$1","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","utcYear$1","localDate","y","m","H","M","S","L","utcDate","UTC","newDate","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","a","formatShortWeekday","A","formatWeekday","b","formatShortMonth","getMonth","B","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","G","formatFullYearISO","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","getHours","q","formatQuarter","Q","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","u","formatWeekdayNumberMonday","U","formatWeekNumberSunday","V","formatWeekNumberISO","w","formatWeekdayNumberSunday","W","formatWeekNumberMonday","formatYear","Y","formatFullYear","Z","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","getUTCHours","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","string","get","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseZone","parseLiteralPercent","pad","pads","charAt","newParse","week","day","utcDay","timeMonday","parse","utcFormat","utcParse","timeFormat","timeParse","_","numberRe","percentRe","requoteRe","requote","names","RegExp","Map","name","getMilliseconds","getMinutes","getSeconds","timeSunday","dISO","timeThursday","z","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","dow","UTCdISO","timeMultiFormat","isObject","second","SECONDS","minute","MINUTES","hour","HOURS","DATE","WEEK","month","MONTH","quarter","QUARTER","YEAR","MILLISECONDS","DAY","timeLocale","isString","timeInterval","utcInterval","defaultTimeLocale","resetTimeFormatDefaultLocale","d3_timeFormat","d3_timeParse","d3_utcFormat","d3_utcParse","timeFormatLocale","d3_timeFormatLocale","timeFormatDefaultLocale","defaultLocale","createLocale","number","extend","numberSpec","timeSpec","args"],"mappings":"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"}